# OTUServer

## Задание
- Разработать веб-сервер частично реализующий протокол HTTP, архитектуру выбрать самостоятельно.
- Разрешается использовать библиотеки помогающие реализовать асинхронную обработку соединений, запрещается
использовать библиотеки реализующие какую-либо часть обработки HTTP. Работать с сокетами и всем прочим нужно
самостоятельно.
- Провести нагрузочное тестирование, проверку стабильности и корректности работы.
- Если сервер асинхронный, то обязательно использовать epoll (https://github.com/m13253/python-asyncore-epoll)
- Подсказка: некоторые фичи (например, SO_REUSEPORT) могут некорректно работать на Mac и прочих недо-Unix системах.
- Лучше экспериментировать в контейнере с CentOS 7 или тому подобным.  

### Веб-сервер должен уметь:
1) Масштабироваться на несколько worker'ов
2) Число worker'ов задается аргументом командной строки - w
3) Отвечать 200 , 403 или 404 на GET-запросы и HEAD-запросы
4) Отвечать 405 на прочие запросы
5) Возвращать файлы по произвольному пути в DOCUMENT_ROOT.
6) Вызов /file.html должен возвращать содердимое DOCUMENT_ROOT/file.html
7) DOCUMENT_ROOT задается аргументом командной строки - r
8) Возвращать index.html как индекс директории
9) Вызов /directory/ должен возвращать DOCUMENT_ROOT/directory/index.html
10) Отвечать следующими заголовками для успешных GET-запросов: Date, Server, Content-Length, Content-Type, Connection
11) Корректный Content-Type для: .html, .css, .js, .jpg, .jpeg, .png, .gif, .swf
12) Понимать пробелы и %XX в именах файлов  

### Что проверять:
1) Проходят тесты https://github.com/s-stupnikov/http-test-suite
2) http://localhost/httptest/wikipedia_russia.html корректно показывается в браузере
3) Нагрузочное тестирование: запускаем ab -n 50000 -c 100 -r http://localhost:8080/ и смотрим результат
4) Опционально: вместо ab воспользоваться wrk
